/** SCRIPTS JS APPLICATION ADHESIFS **/$(function() {    var couleurVar = '#0D5CA4';    var timeOutID = 0;    var fontName = 'Arial.ttf';    jQuery.data( document.body, 'fontexte',fontName );    var quantite = 1;    var errorHeight = false;    $('#couleur-rouge').trigger('click');    $('#texte_adhesif').focus();    var tour = {        id: "start-tour",        showPrevButton: true,        scrollTopMargin: 100,        i18n: {            nextBtn: "Suivant",            prevBtn: "Précedent",            doneBtn: "Terminé",            skipBtn: "Passer",            closeTooltip: "Fermer"        },        steps: [{            title: "Saisie du texte",            content: "Saisissez le texte de votre lettrage adhésif.",            target: document.querySelector("#texte_adhesif"),            placement: "right"        },{            title: "Dimensions",            content: "Vous pouvez modifier les dimensions de votre lettrage. Si vous éditez la hauteur, la longueur se met à jour automatiquement et vice et versa.",            target: document.querySelector("#dimension_height"),            placement: "bottom"         },{            title: "Couleur et finition",            content: "Modifiez la couleur du texte, la finition de l'adhésif et le mode d'affichage. Le miroir est destiné à être posé sur une surface transparente pour être vu de l'autre côté. Le pochoir sert à peindre la forme du texte saisi.",            target: document.querySelector("#bloc_couleurs"),            placement: "right"        },{            title: "Police d'écriture",            content: "Vous pouvez modifier la police d'écriture de votre texte en choisissant parmi celles que nous vous proposons.",            target: document.querySelector("#bloc_fonts"),            placement: "top"        }]    };    hopscotch.startTour(tour);    /*$('#dimension_height').blur(function() {        $('#dimension_width').val('');    });*/    $('#finition_select').change(function(e){        e.preventDefault();        var setVal = $(this).val();        if ( setVal == 'mat' ) {            $('#couleurs1').slideUp(100, function(){                $('#couleurs2').slideDown();            });        } else {            $('#couleurs2').slideUp(100, function(){                $('#couleurs1').slideDown();            });        }        $('#add_finition').val(setVal);            });    $('#bloc_fonts').on('click', '.minibloc_font', function() {        fontName = $(this).attr('data-fontcode');        jQuery.data( document.body, 'fontexte',fontName );        $('.selectedFont').removeClass('.selectedFont');        $(this).addClass('.selectedFont');        var textVal = $('#texte_adhesif').val();        var heightVal = $('#dimension_height').val();        var widthVal = $('#dimension_width').val();        quantite = $('#spinner').val();        $('#add_font').val($(this).attr('title'));          if (textVal != '') {            $.ajax({                type: "POST",                url: "./html5/ajax/adhesifs.php",                dataType: "json",                data: {                    action: 'update',                    text: textVal,                    width: widthVal,                    height: heightVal,                    couleur: couleurVar,                    font: fontName,                    nb: quantite                },                success: function(result) {                    $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                    $('#dimension_height').val(result['height']);                    $('#dimension_width').val(result['width']);                    $('#height_info').show().html(result['height'] + ' cm');                    var width = $('#apercu_texte img').width();                    var centerX = width / 2;                    $('#width_info').show().css({                        left: centerX,                        top: '15px'                    }).html(result['width'] + ' cm');                                        var prixUnitaireHT = result['prix_unitaire'];                    var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);                    var prixHT = result['prix'];                    var prixTTC =  prixHT * (1 + tvaNormal / 100);                    /*$('#prix_unitaire span').html(Number(prixUnitaireTTC).toFixed(2));                    $('#prix_ttc span').html(Number(prixTTC).toFixed(2));*/                                        $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));                    $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));                                        $('#add_prix_ttc').val(result['prix_unitaire']);                     $('#add_longueur').val(result['width']);                     $('#add_hauteur').val(result['height']);                     $('#add_texte').val($('#texte_adhesif').val());                                         var imgCanvas = $('#apercu_texte img').attr('src');                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){              	                        	$("#add_url_image").val(result);                       	                        }                    });                                     }            });        }    });    $('#bloc_couleurs').on('click', '.minibloc_couleur', function() {        couleurVar = $(this).attr('data-couleurcode');        $('#nom_couleur').show();        $('#id_couleur').html($(this).attr('id'));        $('#add_couleur').val(couleurVar);         var textVal = $('#texte_adhesif').val();        var heightVal = $('#dimension_height').val();        var widthVal = $('#dimension_width').val();        quantite = $('#spinner').val();        if ($('#pochoir').is(':checked')) {            $('#pochoir').attr('checked', false);            $('#miroir').attr('disabled', false);        }        if ($('#miroir').is(':checked')) {            $('#miroir').attr('checked', false);            $('#pochoir').attr('disabled', false);        }        if ( $(this).hasClass('hideset1') ) {            $('#finition_options').hide();        } else {            $('#finition_options').show();        }        if ( $(this).hasClass('hideset2') ) {            $('#finition_options #finitionpochoir').hide();        } else {            $('#finition_options #finitionpochoir').show();        }                $('#add_miroir').val(0);        $('#add_pochoir').val(0);                if (textVal != '') {            $.ajax({                type: "POST",                url: "./html5/ajax/adhesifs.php",                dataType: "json",                data: {                    action: 'update',                    text: textVal,                    width: widthVal,                    height: heightVal,                    couleur: couleurVar,                    font: fontName,                    nb: quantite                },                success: function(result) {                    $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                    $('#dimension_height').val(result['height']);                    $('#dimension_width').val(result['width']);                    $('#height_info').show().html(result['height'] + ' cm');                    var width = $('#apercu_texte img').width();                    var centerX = width / 2;                    $('#width_info').show().css({                        left: centerX,                        top: '15px'                    }).html(result['width'] + ' cm');                                        var imgCanvas = $('#apercu_texte img').attr('src');                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){              	                        	$("#add_url_image").val(result);                       	                        }                    });                                     }            });                                }    });    /*$('#dimension_width').blur(function() {        $('#dimension_height').val('');    });*/    $('#dimension_width, #dimension_height').click(function() {        //$(this).select();    });            /*$('#texte_adhesif, #dimension_height, #dimension_width').blur(function() {    	console.log('generate text');        var textVal = $('#texte_adhesif').val();        var heightVal = $('#dimension_height').val();        var widthVal = $('#dimension_width').val();        quantite = $('#spinner').val();        var errorHeight = false;        quantite = $('#spinner').val();        if (heightVal > 93) {            $('<div title="Attention !"><p>Vous devez saisir une hauteur <strong>inférieure ou égale à 93 centimètres</strong>.</p></div>').dialog({                buttons: {                    'Ok': function() {                        $(this).dialog('close');                    }                }            });            $('#dimension_height').val(93);            errorHeight = true;        }        if ($(this).val() != '' && errorHeight == false) {            $.ajax({                type: "POST",                url: "./html5/ajax/adhesifs.php",                dataType: "json",                data: {                    action: 'update',                    text: textVal,                    width: widthVal,                    height: heightVal,                    couleur: couleurVar,                    font: fontName,                    nb: quantite                },                success: function(result) {                    $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                    $('#dimension_height').val(result['height']);                    $('#dimension_width').val(result['width']);                    $('#height_info').show().html(result['height'] + ' cm');                    var width = $('#apercu_texte img').width();                    var centerX = width / 2;                    $('#width_info').show().css({                        left: centerX,                        top: '15px'                    }).html(result['width'] + ' cm');                    var prixUnitaireHT = result['prix_unitaire'];                    var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);                    var prixHT = result['prix'];                    var prixTTC =  prixHT * (1 + tvaNormal / 100);                    //$('#prix_unitaire_ht span').html(Number(prixHT).toFixed(2));                    //$('#prix_unitaire span').html(Number(prixUnitaireTTC).toFixed(2));                    //$('#prix_ttc span').html(Number(prixTTC).toFixed(2));                                        $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));                    $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));                    $('#add_prix_ht').val(prixUnitaireHT);                    $('#add_prix_ttc').val(prixUnitaireTTC);                     $('#add_longueur').val(result['width']);                     $('#add_hauteur').val(result['height']);                     $('#add_texte').val($('#texte_adhesif').val());                                         var imgCanvas = $('#apercu_texte img').attr('src');                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){              	                        	$("#add_url_image").val(result);                       	                        }                    });                                     }            });        } else {            $.ajax({                type: "POST",                url: "./html5/ajax/adhesifs.php",                dataType: "json",                data: {                    action: 'update',                    text: textVal,                    width: widthVal,                    height: 93,                    couleur: couleurVar,                    font: fontName,                    nb: quantite                },                success: function(result) {                    $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                    $('#dimension_height').val(result['height']);                    $('#dimension_width').val(result['width']);                    $('#height_info').show().html(result['height'] + ' cm');                    var width = $('#apercu_texte img').width();                    var centerX = width / 2;                    $('#width_info').show().css({                        left: centerX,                        top: '15px'                    }).html(result['width'] + ' cm');                                        var prixUnitaireHT = result['prix_unitaire'];                    var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);                    var prixHT = result['prix'];                    var prixTTC =  prixHT * (1 + tvaNormal / 100);                    //$('#prix_unitaire span').html(Number(prixUnitaireTTC).toFixed(2));                    //$('#prix_ttc span').html(Number(prixTTC).toFixed(2));                                        $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));                    $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));                                        $('#add_prix_ttc').val(result['prix_unitaire']);                     $('#add_longueur').val(result['width']);                     $('#add_hauteur').val(result['height']);                     $('#add_texte').val($('#texte_adhesif').val());                                         var imgCanvas = $('#apercu_texte img').attr('src');                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){              	                        	$("#add_url_image").val(result);                       	                        }                    });                                         errorHeight = false;                }            });        }    });*/        //#texte_adhesif keyup   $('#texte_adhesif, #dimension_height, #dimension_width').keyup(function() {    	console.log('generate text keyup');        var textVal = $('#texte_adhesif').val();        var heightVal = $('#dimension_height').val();        var widthVal = $('#dimension_width').val();        var currentInput = $(this).attr('id');        quantite = $('#spinner').val();        var errorHeight = false;        quantite = $('#spinner').val();        if (heightVal > 93) {            $('<div title="Attention !"><p>Vous devez saisir une hauteur <strong>inférieure ou égale à 93 centimètres</strong>.</p></div>').dialog({                buttons: {                    'Ok': function() {                        $(this).dialog('close');                    }                }            });            $('#dimension_height').val(93);            errorHeight = true;        }        if ($(this).val() != '' && errorHeight == false) {        	//if(timeOutID !== 0)         	 	clearTimeout(timeOutID);        	timeOutID = setTimeout(function(){        		console.log(timeOutID);        		timeOutID = 0;        		console.log('timeout');	            $.ajax({	                type: "POST",	                url: "./html5/ajax/adhesifs.php",	                dataType: "json",	                data: {	                    action: 'update',	                    text: textVal,	                    width: widthVal,	                    height: heightVal,	                    couleur: couleurVar,	                    font: fontName,	                    nb: quantite,	                    currentInput:currentInput	                },	                success: function(result) {	                    $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');	                    $('#dimension_height').val(result['height']);	                    $('#dimension_width').val(result['width']);	                    $('#height_info').show().html(result['height'] + ' cm');	                    var width = $('#apercu_texte img').width();	                    var centerX = width / 2;	                    $('#width_info').show().css({	                        left: centerX,	                        top: '15px'	                    }).html(result['width'] + ' cm');		                    var prixUnitaireHT = result['prix_unitaire'];	                    var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);	                    var prixHT = result['prix'];	                    var prixTTC =  prixHT * (1 + tvaNormal / 100);	                    	                    $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));	                    $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));		                    $('#add_prix_ht').val(prixUnitaireHT);	                    $('#add_prix_ttc').val(prixUnitaireTTC); 	                    $('#add_longueur').val(result['width']); 	                    $('#add_hauteur').val(result['height']); 	                    $('#add_texte').val($('#texte_adhesif').val()); 	                }	            });        	 }, 400);        	        } else {            console.log('texte vide ou errorheight = true');        }    });        $('.dimensions_input').keypress(function(e) {        //if (String.fromCharCode(e.keyCode).match(/[^0-9]/g)) return false;    });    $('.jcarousel').jcarousel({        // Options go here    });    /*	Prev control initialization	*/    $('.jcarousel-control-prev').on('jcarouselcontrol:active', function() {        $(this).removeClass('inactive');    }).on('jcarouselcontrol:inactive', function() {        $(this).addClass('inactive');    }).jcarouselControl({        // Options go here        target: '-=1'    });    /*	Next control initialization	*/    $('.jcarousel-control-next').on('jcarouselcontrol:active', function() {        $(this).removeClass('inactive');    }).on('jcarouselcontrol:inactive', function() {        $(this).addClass('inactive');    }).jcarouselControl({        // Options go here        target: '+=1'    });    $('#miroir').click(function() {        if (this.checked) {        	$('#add_miroir').val(1);              $('#pochoir').attr('disabled', true);            $('#apercu_texte img').addClass('mirror');        } else {        	$('#add_miroir').val(0);             $('#pochoir').attr('disabled', false);            $('#apercu_texte img').removeClass('mirror');        }                                   });    $('#pochoir').click(function() {        if (this.checked) {            var textVal = $('#texte_adhesif').val();            var heightVal = $('#dimension_height').val();            var widthVal = $('#dimension_width').val();            quantite = $('#spinner').val();            $('#miroir').attr('disabled', true);                    	$('#add_pochoir').val(1);         	            $('<div title="Info"><p>Les pochoirs adhésifs ne sont utilisables qu\'une seule fois !</div>').dialog({                buttons: {                    'Ok': function() {                        $(this).dialog('close');                        $('#textecfg').effect('highlight', {                            color: '#c70077'                        }, 1500);                        $('#textecfg').focus();                    }                }            });            $.ajax({                type: "POST",                url: "./html5/ajax/adhesifs.php",                dataType: "json",                data: {                    action: 'update',                    text: textVal,                    width: widthVal,                    height: heightVal,                    couleur: '#ffffff',                    font: fontName,                    nb: quantite                },                success: function(result) {                    $('#apercu_texte').html('<img style="background:#333;padding:10px;margin-top:-10px" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                    $('#dimension_height').val(result['height']);                    $('#dimension_width').val(result['width']);                    $('#height_info').show().html(result['height'] + ' cm');                    var width = $('#apercu_texte img').width();                    var centerX = width / 2;                    $('#width_info').show().css({                        left: centerX,                        top: '5px'                    }).html(result['width'] + ' cm');                                        var prixUnitaireHT = result['prix_unitaire'];                    var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);                    var prixHT = result['prix'];                    var prixTTC =  prixHT * (1 + tvaNormal / 100);                    /*$('#prix_unitaire span').html(Number(prixUnitaireTTC).toFixed(2));                    $('#prix_ttc span').html(Number(prixTTC).toFixed(2));*/                                        $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));                    $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));                                        $('#add_prix_ttc').val(result['prix_unitaire']);                     $('#add_longueur').val(result['width']);                     $('#add_hauteur').val(result['height']);                    $('#add_texte').val($('#texte_adhesif').val());                                         var imgCanvas = $('#apercu_texte img').attr('src');                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){              	                        	$("#add_url_image").val(result);                       	                        }                    });                                     }            });        } else {            var textVal = $('#texte_adhesif').val();            var heightVal = $('#dimension_height').val();            var widthVal = $('#dimension_width').val();            quantite = $('#spinner').val();            $('.ui-dialog-content').dialog('close');            $('#miroir').attr('disabled', false);                        $('#add_pochoir').val(0);                         $.ajax({                type: "POST",                url: "./html5/ajax/adhesifs.php",                dataType: "json",                data: {                    action: 'update',                    text: textVal,                    width: widthVal,                    height: heightVal,                    couleur: couleurVar,                    font: fontName,                    nb: quantite                },                success: function(result) {                    $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                    $('#dimension_height').val(result['height']);                    $('#dimension_width').val(result['width']);                    $('#height_info').show().html(result['height'] + ' cm');                    var width = $('#apercu_texte img').width();                    var centerX = width / 2;                    $('#width_info').show().css({                        left: centerX,                        top: '15px'                    }).html(result['width'] + ' cm');                                        var prixUnitaireHT = result['prix_unitaire'];                    var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);                    var prixHT = result['prix'];                    var prixTTC =  prixHT * (1 + tvaNormal / 100);                    /*$('#prix_unitaire span').html(Number(prixUnitaireTTC).toFixed(2));                    $('#prix_ttc span').html(Number(prixTTC).toFixed(2));*/                                        $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));                    $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));                                        $('#add_prix_ttc').val(result['prix_unitaire']);                     $('#add_longueur').val(result['width']);                     $('#add_hauteur').val(result['height']);                     $('#add_texte').val($('#texte_adhesif').val());                                         var imgCanvas = $('#apercu_texte img').attr('src');                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){              	                        	$("#add_url_image").val(result);                       	                        }                    });                                     }            });        }    });    $('#spinner').bind('keyup change click', function(e) {        if (!$(this).data("previousValue") || $(this).data("previousValue") != $(this).val()) {            $(this).data("previousValue", $(this).val());            quantite = $(this).data("previousValue");            var textVal = $('#texte_adhesif').val();            var heightVal = $('#dimension_height').val();            var widthVal = $('#dimension_width').val();            if (textVal != '') {                $.ajax({                    type: "POST",                    url: "./html5/ajax/adhesifs.php",                    dataType: "json",                    data: {                        action: 'update',                        text: textVal,                        width: widthVal,                        height: heightVal,                        couleur: couleurVar,                        font: fontName,                        nb: quantite                    },                    success: function(result) {                        $('#apercu_texte').html('<img id="apercu_texte_img" src="data:image/png;base64,' + result['image'] + '" alt="' + result['text'] + '" />');                        $('#dimension_height').val(result['height']);                        $('#dimension_width').val(result['width']);                        $('#height_info').show().html(result['height'] + ' cm');                        var width = $('#apercu_texte img').width();                        var centerX = width / 2;                        $('#width_info').show().css({                            left: centerX,                            top: '15px'                        }).html(result['width'] + ' cm');                                                var prixUnitaireHT = result['prix_unitaire'];                        var prixUnitaireTTC =  prixUnitaireHT * (1 + tvaNormal / 100);                        var prixHT = result['prix'];                        var prixTTC =  prixHT * (1 + tvaNormal / 100);                        /*$('#prix_unitaire span').html(Number(prixUnitaireTTC).toFixed(2));                        $('#prix_ttc span').html(Number(prixTTC).toFixed(2));*/                                                $('#prix_ht span').html(Number(prixUnitaireHT).toFixed(2));                        $('#prix_ttc span').html(Number(prixUnitaireTTC).toFixed(2));                                                $('#add_prix_ttc').val(result['prix_unitaire']);                         $('#add_longueur').val(result['width']);                         $('#add_hauteur').val(result['height']);                         $('#add_texte').val($('#texte_adhesif').val());                                                 var imgCanvas = $('#apercu_texte img').attr('src');                        $.ajax({                            type: "POST",                            async: false,                            url: "./html5/ajax/postScrn.php",                            data: {                                imageCanvas: imgCanvas                            },                            success: function(result){              	                            	$("#add_url_image").val(result);                       	                            }                        });                                             }                });            }        }    });    $('#spinner').each(function() {        $(this).data("previousValue", $(this).val());    });            $("#addpanier_button").click(function() {    	setTimeout(function(){    		html2canvas($("#apercu_texte_img"),{			                onrendered: function( canvas ) {                            var imgCanvas = canvas.toDataURL();                    $.ajax({                        type: "POST",                        async: false,                        url: "./html5/ajax/postScrn.php",                        data: {                            imageCanvas: imgCanvas                        },                        success: function(result){                        	                                    	                        	var prixHT = $("#prix_unitaire_ht span").html();                        	var prixTTC = $("#prix_unitaire span").html();                        	var artid = $("#artid_module").val();                        	var longueur = $("#dimension_width").val();                        	var hauteur = $("#dimension_height").val();                        	var urlImage = result;                        	$("#add_prix_ht").val(prixHT);                        	$("#add_prix_ttc").val(prixTTC);                        	$("#add_artid").val(artid);                        	$("#add_url_image").val(urlImage);                            /**                             * @author RV                              * @date 2017-02-28                            * disable when add to cart option                             **/                        	/** generatePdf('cart'); **/                        	$("#formu_add_panier_adhesif").submit();                                        }                    });                                }            });    	}, 1000);    	/*var artid = $("#artid_module").val();    	$("#add_artid").val(artid);    	$("#formu_add_panier_adhesif").submit();  */    });            /** ---------- generate PDF -------------**/    function generatePdf($pdfLaunch){    	//e.preventDefault();        var imgData = $("#apercu_texte_img").attr("src");        swidth = $("#slongueur").text();        sheight = $("#shauteur").text();        $.ajax({            url: './html5/ajax/ajaxtcpdf.php',            type: 'post',	        dataType : 'json',            data: {            	font: jQuery.data(document.body, 'fontexte'),                text: $("#texte_adhesif").val(),                srcsvg: encodeURIComponent(imgData),                widthsvg: "710px",                heightsvg: "60px",                texteonly1: "1"            },            success: function (result) {            	console.log("sta:"+result['pdf_path']);            		            if(result['file_stat'] === 1){	                var urlPdf = './html5/ajax/'+result['pdf_path'];	                console.log(urlPdf);	                switch($pdfLaunch) {	                    case "pdf":	                        window.open(urlPdf, '_blank');	                    break;	                    case "cart":	                        $("#add_url_pdf").val('http://'+host+ '/html5/ajax/'+result['pdf_path']);	                    break;	                    default: 	                       console.log("Undefined");  	                }	            }            },            error: function (data) {                console.log(data);            },            async: false,            cache: false        });    }    /** ---------- generate PDF -------------**/    	$("#pdf_button").click(function(e){		e.preventDefault();		generatePdf('pdf');	})});