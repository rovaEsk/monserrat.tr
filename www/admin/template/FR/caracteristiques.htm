<!-- BEGIN CaracteristiquesIndex -->
$TemplateCommunHeader
	<!-- DEBUT CONTENT -->
			<!-- DEBUT PAGE HEADER-->
			<div class="row">
				<div class="col-md-12">
					<!-- DEBUT PAGE TITLE & BREADCRUMB-->
					<h3 class="page-title">
					$multilangue[gestion_caracteristiques]<small></small>
					</h3>
					<ul class="page-breadcrumb breadcrumb">						
						<li>
							<i class="fa fa-home"></i>
							<a href="index.php">
								$multilangue[accueil]
							</a>
							<i class="fa fa-angle-right"></i>
						</li>
						<li>							
							$multilangue[catalogue]							
							<i class="fa fa-angle-right"></i>
						</li>
						<li>
							<a href="caracteristiques.htm">							
								$multilangue[caracteristiques]
							</a>
						</li>
						<!-- BEGIN CaracteristiquesNavigSupp -->
						    <li>
						    	<i class="fa fa-angle-right"></i>						    	                       
						        $libNavigSupp						        
						    </li>
						<!-- END CaracteristiquesNavigSupp -->
					</ul>
					<!-- FIN PAGE TITLE & BREADCRUMB-->
				</div>
			</div>
			<!-- FIN PAGE HEADER-->
			<!-- DEBUT PAGE CONTENT -->
			
			<!-- BEGIN CaracteristiquesSuccess -->
				<div class="alert alert-success alert-dismissable">
					<button aria-hidden="true" data-dismiss="alert" class="close" type="button"></button>
					$texteSuccess
				</div>
			<!-- END CaracteristiquesSuccess -->
			
			<!-- BEGIN CaracteristiquesErreur -->
				<div class="alert alert-danger alert-dismissable">
					<button aria-hidden="true" data-dismiss="alert" class="close" type="button"></button>
					$texteErreur
				</div>
			<!-- END CaracteristiquesErreur -->
			
			<!-- BEGIN CaracteristiquesListe -->				
				<div class="row">
					<div class="col-md-12">
						<div class="tabbable tabbable-custom boxless tabbable-reversed">						
							<div class="tab-content">	
								<a href="caracteristiques.php?action=modifier" data-original-title="$multilangue[ajt_caracteristique]" class="btn green right">
									$multilangue[ajt_caracteristique] &nbsp;
									<i class="fa fa-plus "></i>
								</a>
								<br><br><br>																			
								<div class="tab-pane active" id="tab_0">
									<div class="table-responsive">
										<table id="tabcaracteristiques" class="table table-striped table-bordered table-caracteristiques table-hover">
											<thead>
												<tr>
													<th>
														$multilangue[caracteristiques]
													</th>
													<th class="ta-center">
														$multilangue[liste_valeurs]
													</th>
													<th class="ta-center">
														$multilangue[actions]
													</th>
												</tr>
											</thead>
											<tbody>
												<!-- BEGIN CaracteristiquesListeBit -->
													<tr id="$caracteristique[caractid]">
														<td width="40%" class="highlight">																
															<a class="lh-30" href="caracteristiques.php?action=modifier&caractid=$caracteristique[caractid]">
																$caracteristique[libelle]
															</a>
														</td>
														<td width="40%" class="ta-center">
															<!-- BEGIN CaracteristiquesListeValeurs -->
																<select class="form-control">
																	<!-- BEGIN CaracteristiquesListeValeursBit -->
																		<option>$caractval[libelle]</option>
																	<!-- END CaracteristiquesListeValeursBit -->
																</select>
															<!-- END CaracteristiquesListeValeurs -->
														</td>
														<td width="20%" class="ta-center">
															<a href="caracteristiques.php?action=modifier&caractid=$caracteristique[caractid]" data-original-title="$multilangue[modifier]" data-placement="top" class="btn tooltips">
																<i class="fa fa-edit fs-18 font-blue"></i>
															</a>
															<!-- <a href="#myModal$caracteristique[caractid]" id="btn_suppr$caracteristique[caractid]" data-original-title="$multilangue[supprimer]" data-placement="top" data-toggle="modal" role="button" class="btn tooltips">
																<i class="fa fa-trash-o fs-18 font-red"></i>
															</a> -->
															<div aria-hidden="true" aria-labelledby="myModalLabe$caracteristique[caractid]" role="dialog" tabindex="-1" class="modal fade" id="myModal$caracteristique[caractid]" style="display: none;">
																<div class="modal-dialog">
																	<div class="modal-content">
																		<div class="modal-header">
																			<button aria-hidden="true" data-dismiss="modal" class="close" type="button"></button>
																			<h4 class="modal-title">$multilangue[suppression_caracteristique]"$caracteristique[libelle]" ?</h4>
																		</div>
																		<div class="modal-body">																					
																			$multilangue[warning_suppression_caracteristique]
																		</div>
																		<div class="modal-footer">
																			<button aria-hidden="true" data-dismiss="modal" class="btn default">Non</button>
																			<a href="caracteristiques.php?action=supprimer2&caractid=$caracteristique[caractid]" class="btn blue">$multilangue[oui_supprimer]</a>
																		</div>
																	</div>
																</div>
															</div>
														</td>
													</tr>
												<!-- END CaracteristiquesListeBit -->												
											</tbody>
										</table>												
									</div>																			
								</div>																		
							</div>
						</div>							
					</div>
				</div>
			<!-- END CaracteristiquesListe -->
			
			<!-- BEGIN CaracteristiquesModification -->				
				<div class="row">
					<div class="col-md-12">
						<div class="tabbable tabbable-custom boxless tabbable-reversed">						
							<div class="tab-content">							
								<div class="tab-pane active" id="tab_0">
									<!-- DEBUT FORM-->														
										<form action="$_SERVER[PHP_SELF]" name="formModifCaracteristique" method="post" enctype="multipart/form-data" class="form-horizontal form-bordered form-row-stripped">
											<input type="hidden" name="action" value="modifier2">
											<input type="hidden" name="caractid" value="$caractid">
											<div class="col-md-12 ta-center mb-20">
												<a href="$_SERVER[PHP_SELF]" class="btn grey-silver"><i class="fa fa-arrow-left"></i> $multilangue[retour]</a>
												<button type="submit" class="btn green"><i class="fa fa-check"></i> $multilangue[enregistrer]</button>															
											</div>
								
											<div class="portlet box $classcolor_site_principal">
												<div class="portlet-title">
													<div class="caption">
														$texte_entete
													</div>																				
												</div>
												<div class="portlet-body form">													
													<!-- BEGIN CaracteristiquesModificationDefautBit -->	
													<div class="form-body">											
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[libelle]</label>
															<div class="col-md-10">																														
																<input type="text" class="form-control" name="libelle1" value="$caract[libelle]"/>
															</div>
														</div>
													</div>
													<!-- END CaracteristiquesModificationDefautBit -->
							             		</div>
							             	</div>	
					             			<!-- BEGIN CaracteristiquesModificationSiteBit -->
												<div class="portlet box $site[classcolor]" style="size: auto;">
							                        <div class="portlet-title">
							                            <div class="caption">
							                                $multilangue[donnees] <i>$site[libelle]</i>
							                            </div>
							                            <div class="tools">
							                                <a class="expand" href="javascript:;">
							                                </a>
							                            </div>
							                        </div>
							                        <div class="portlet-body form" style="display: none;">
														<div class="form-body">											
															<div class="form-group">
																<label class="control-label col-md-2">$multilangue[libelle]</label>
																<div class="col-md-10">																														
																	<input type="text" class="form-control" name="libelle$site[siteid]" value="$ctsite[libelle]"/>
																</div>
															</div>
														</div>
													</div>
												</div>															
					             			<!-- END CaracteristiquesModificationSiteBit -->						             		
					             		</form>
					             		<!-- FIN FORM-->	
					             		
					             		<form action="$_SERVER[PHP_SELF]" name="formAjoutValeurCaracteristique" method="post" enctype="multipart/form-data" class="form-horizontal form-bordered form-row-stripped">
											<input type="hidden" name="action" value="modifiervaleur">
											<input type="hidden" name="caractid" value="$caractid">
											<input type="hidden" name="caractvalid" value="$caractvalid">
											<div style="padding:20px 0;">
												<div class="row">
													<div class="col-md-12">
														<div class="col-md-12 ta-center">
															<button type="submit" class="btn green"><i class="fa fa-plus"></i> $multilangue[ajouter_valeur]</button>															
														
														</div>																	
													</div>
												</div>
											</div>
										</form>	
					             		
					             		
					             		<!-- BEGIN CaracteristiquesModificationValeur -->
																									
										<!-- BEGIN CaracteristiquesModificationValeurListe -->
													<div class="portlet box light-grey">
							                        <div class="portlet-title">
							                            <div class="caption">
							                                $multilangue[liste_valeurs]
							                            </div>
							                            <div class="tools">
							                                <a class="collapse" href="javascript:;"></a>
							                            </div>
							                        </div>
													<div class="portlet-body form">
													
													<div style="padding:20px 0;">
														<div class="row">
															<div class="col-md-12">
																<div class="col-md-12 ta-center">																		
																	<div class="btn-group left ta-left">
											                            <a class="btn default" href="#" data-toggle="dropdown">
											                                 Colonnes <i class="fa fa-angle-down"></i>
											                            </a>
											                            <div id="tabvaleurs_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right" style="width:190px;">												                            
											                            	<label><input type="checkbox" checked data-column="0">$multilangue[valeurs] $siteprincipal[libelle]</label>
											                            	<!-- BEGIN CaracteristiquesModificationValeurListeSite2 -->
											                                <label><input type="checkbox" checked data-column="$site[numcol]">$multilangue[valeurs] $libellesite[libelle]</label>
											                                <!-- END CaracteristiquesModificationValeurListeSite2 -->
											                            </div>
											                        </div>
																</div>																	
															</div>
														</div>
													</div>
													
			
													<div class="table-responsive">
														<table id="tabvaleurs" class="table table-striped table-bordered table-valeurs table-hover" style="margin-bottom:0px;">
															<thead>
															<tr>
																<th>
																	$multilangue[valeurs] ($siteprincipal[libelle])
																</th>
																<!-- BEGIN CaracteristiquesModificationValeurListeSite -->
																<th>
																	$multilangue[valeurs] ($libellesite[libelle])
																</th>
																<!-- END CaracteristiquesModificationValeurListeSite -->
																<th class="ta-center" bSortable="false">
																	$multilangue[actions]
																</th>
															</tr>
															</thead>
															<tbody>
															<!-- BEGIN CaracteristiquesModificationValeurListeBit -->
																<tr id="$caractval[caractvalid]">
																	<td>
																		$caractval[libelle]
																	</td>
																	<!-- BEGIN CaracteristiquesModificationValeurListeSiteBit -->
																	<td>
																		$caractvalsite[libelle]
																	</td>
																	<!-- END CaracteristiquesModificationValeurListeSiteBit -->
																	<td width="20%" class="ta-center">
																		<a href="caracteristiques.php?action=modifiervaleur&caractid=$caractid&caractvalid=$caractval[caractvalid]" data-original-title="$multilangue[modifier]" data-placement="top" class="btn tooltips">
																			<i class="fa fa-edit fs-18 font-blue"></i>
																		</a>
																		<!-- <a href="#myModal$caractval[caractvalid]" id="btn_suppr$caractval[caractvalid]" data-original-title="$multilangue[supprimer]" data-placement="top" data-toggle="modal" role="button" class="btn tooltips">
																			<i class="fa fa-trash-o fs-18 font-red"></i>
																		</a> -->
																		<div aria-hidden="true" aria-labelledby="myModalLabe$caractval[caractvalid]" role="dialog" tabindex="-1" class="modal fade" id="myModal$caractval[caractvalid]" style="display: none;">
																			<div class="modal-dialog">
																				<div class="modal-content">
																					<div class="modal-header">
																						<button aria-hidden="true" data-dismiss="modal" class="close" type="button"></button>
																						<h4 class="modal-title">$multilangue[voulez_vous_vraiment_supprimer_valeur] "$caractval[libelle]" ?</h4>
																					</div>
																					<div class="modal-body">																					
																						$multilangue[supprimera_valeur]
																					</div>
																					<div class="modal-footer">
																						<button aria-hidden="true" data-dismiss="modal" class="btn default">$multilangue[non]</button>
																						<a href="caracteristiques.php?action=supprimervaleur&caractid=$caractid&caractvalid=$caractval[caractvalid]" class="btn blue">$multilangue[oui_supprimer]</a>
																					</div>
																				</div>
																			</div>
																		</div>
																	</td>
																</tr>
																<!-- END CaracteristiquesModificationValeurListeBit -->					
															</tbody>
														</table>
													</div>
													<!-- END CaracteristiquesModificationValeurListe -->
												</div>
											</div>
										<!-- END CaracteristiquesModificationValeur -->
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			<!-- END CaracteristiquesModification -->
			
			<!-- BEGIN CaracteristiquesValeurModification -->	
				<div class="row">
					<div class="col-md-12">
						<div class="tabbable tabbable-custom boxless tabbable-reversed">						
							<div class="tab-content">							
								<div class="tab-pane active" id="tab_0">
									<!-- DEBUT FORM-->														
										<form action="$_SERVER[PHP_SELF]" name="formModifContactFournisseur" method="post" enctype="multipart/form-data" class="form-horizontal form-bordered form-row-stripped">
											<input type="hidden" name="action" value="modifiervaleur2">
											<input type="hidden" name="caractid" value="$caractid">												
											<input type="hidden" name="caractvalid" value="$caractvalid">
											<div class="col-md-12 ta-center mb-20">
												<a href="caracteristiques.php?action=modifier&caractid=$caractid" class="btn grey-silver"><i class="fa fa-arrow-left"></i> $multilangue[retour]</a>
												<button type="submit" class="btn green"><i class="fa fa-check"></i> $multilangue[enregistrer]</button>															
											</div>
											<div class="portlet box $classcolor_site_principal">
												<div class="portlet-title">
													<div class="caption">
														$texte_entete
													</div>																				
												</div>
												<div class="portlet-body form">												
													<div class="form-body">
														<!-- BEGIN CaracteristiquesValeurModificationBit -->												
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[libelle]</label>
															<div class="col-md-10">																														
																<input type="text" class="form-control" name="libelle1" value="$ct[libelle]"/>
															</div>
														</div>
														<!-- END CaracteristiquesValeurModificationBit -->
														<!-- BEGIN CaracteristiquesValeurModificationPhoto -->												
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[vignette]</label>
															<div class="col-md-10">																														
																<div data-provides="fileinput" class="fileinput fileinput-new">
																	<div style="width: 150px; height: 150px;" data-trigger="fileinput" class="fileinput-preview thumbnail"><img src="$image_caractval_src" alt=""></div>
																	<div>
																		<span class="btn default btn-file">
																			<span class="fileinput-new">$multilangue[selectionner]</span>
																			<span class="fileinput-exists">$multilangue[modification]</span>
																			<input type="file" name="image">
																		</span>
																		<a data-dismiss="fileinput" class="btn default fileinput-exists" href="#">$multilangue[supprimer]</a>
																	</div>
																</div>
															</div>
														</div>
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[caract_couleur]</label>
															<div class="col-md-10">																														
																<div data-color-format="rgba" data-color="$ct[couleur]" class="input-group color colorpicker-default">
																<input type="text" class="form-control" style="width:80%;" name="couleur" value="$ct[couleur]">
																	<span class="input-group-btn" style="float:left;">
																		<button type="button" class="btn default"><i></i>&nbsp;</button>
																	</span>
																</div>
															</div>
														</div>
														<!-- END CaracteristiquesValeurModificationPhoto -->
														<!-- BEGIN CaracteristiquesValeurModificationFacette -->												
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[facette]</label>
															<div class="col-md-10">																														
																<div data-provides="fileinput" class="fileinput fileinput-new">
																	<div style="width: 150px; height: 150px;" data-trigger="fileinput" class="fileinput-preview thumbnail"><img src="$image_facette_src" alt=""></div>
																	<div>
																		<span class="btn default btn-file">
																			<span class="fileinput-new">$multilangue[selectionner]</span>
																			<span class="fileinput-exists">$multilangue[modification]</span>
																			<input type="file" name="facette">
																		</span>
																		<a data-dismiss="fileinput" class="btn default fileinput-exists" href="#">$multilangue[supprimer]</a>
																	</div>
																</div>
															</div>
														</div>
														<!-- END CaracteristiquesValeurModificationFacette -->
														<!-- BEGIN CaracteristiquesValeurModificationNeteven -->												
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[association_neteven] </label>
															<div class="col-md-10">																														
																$contSelectNeteven
															</div>
														</div>
														<!-- END CaracteristiquesValeurModificationNeteven -->																															
													</div>												
												</div>
											</div>
											<!-- BEGIN CaracteristiquesValeurModificationSiteBit -->
												<div class="portlet box $site[classcolor]" style="size : auto;">
						                        	<div class="portlet-title">
						                            	<div class="caption">
						                                	$multilangue[donnees] <i>$site[libelle]</i>
						                            	</div>
						                            	<div class="tools">
						                                	<a class="expand" href="javascript:;"></a>
						                            	</div>
						                        	</div>
						                        	<div class="portlet-body form" style="display:none;">																								
														<div class="form-group">
															<label class="control-label col-md-2">$multilangue[libelle]</label>
															<div class="col-md-10">																														
																<input type="text" class="form-control" name="libelle$site[siteid]" value="$ctsite[libelle]"/>
															</div>
														</div>
													</div>
												</div>
				             				<!-- END CaracteristiquesValeurModificationSiteBit -->	
				             				<div class="col-md-12 ta-center">
												<a href="caracteristiques.php?action=modifier&caractid=$caractid" class="btn grey-silver"><i class="fa fa-arrow-left"></i> $multilangue[retour]</a>
												<button type="submit" class="btn green"><i class="fa fa-check"></i> $multilangue[enregistrer]</button>															
											</div>									
										</form>
									<!-- FIN FORM-->
								</div>							
							</div>
						</div>
					</div>
				</div>	
			<!-- END CaracteristiquesValeurModification -->	
		<!-- FIN PAGE CONTENT -->			
	<!-- FIN CONTENT -->
$TemplateCommunFooter

<script type="text/javascript" src="assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script>

<script type="text/javascript">
	App.init(); // initlayout and core plugins
	
	$('.colorpicker-default').colorpicker({
		format: 'hex'
    });
	
	$(document).ready(function() {
		var ordreDepart;
		$('#tabcaracteristiques > tbody').tableDnD({			
			onDragStart: function(table, row) {
				ordreDepart = $.tableDnD.serialize();		    	
		    },
		    onDrop: function(table, row) {
		    	var ordreArrivee = $.tableDnD.serialize();	
		    	if (ordreDepart != ordreArrivee){
		    		var data = 'action=caracteristiques_positions&';
		    		data += 'ordre=' + ordreArrivee + '&';
		    		$.ajax({
						url : 'commun_ajax.php',
						type : 'POST',
						data : data,
						dataType : 'html',
						success : function(code_html, statut){
						},
						error : function(resultat, statut, erreur){
							alert(erreur);
						}
					});
		    	}
		    }
		});
		$('#tabvaleurs > tbody').tableDnD({			
			onDragStart: function(table, row) {
				ordreDepart = $.tableDnD.serialize();		    	
		    },
		    onDrop: function(table, row) {
		    	var ordreArrivee = $.tableDnD.serialize();	
		    	if (ordreDepart != ordreArrivee){
		    		var data = 'action=caracteristiques_positionsvaleurs&';
		    		data += 'ordre=' + ordreArrivee + '&';
		    		$.ajax({
						url : 'commun_ajax.php',
						type : 'POST',
						data : data,
						dataType : 'html',
						success : function(code_html, statut){
						},
						error : function(resultat, statut, erreur){
							alert(erreur);
						}
					});
		    	}
		    }
		});
		
		
		
        var oTable = $('#tabvaleurs').dataTable({
        	"sDom": 'ftr',
        	"aoColumnDefs": [
	                      { "bSortable": false, "aTargets": [ -1 ] }
	        ],
	        "oLanguage": {
	            "oAria": {
	            	"sSortAscending": " - click/return to sort ascending",
	            	"sSortDescending": " - click/return to sort descending"
	            },
		        "oPaginate": {
		            "sFirst": "$multilangue[premiere_page]",
		            "sLast": "$multilangue[derniere_page]",
		            "sPrevious": "$multilangue[page_precedente]",
		            "sNext": "$multilangue[page_suivante]",
		            "sPageOf": "$multilangue[sur]"
		        },
	            "sEmptyTable": "$multilangue[aucun_client2]",
	            "sInfo": " &nbsp; &nbsp; _TOTAL_ $multilangue[resultats_en_tout] (_START_ $multilangue[a] _END_)",
	            "sInfoEmpty": "$multilangue[aucun_resultat_a_afficher]",
	            "sInfoFiltered": " - filtering from _MAX_ records",
	            /*"sInfoPostFix": "All records shown are derived from real information.",*/
	            "sInfoThousands": "'",
	            "sLengthMenu": " &nbsp; &nbsp; $multilangue[montrer] _MENU_ $multilangue[resultat2]",
	            "sLoadingRecords": "$multilangue[chargement] ...",
	            "sProcessing": "$multilangue[chargement] ...",
	            "sSearch": "$multilangue[filtrer] : ",
	            "sZeroRecords": "$multilangue[aucun_resultat_a_afficher]"/*,
	            "sUrl": "http://www.sprymedia.co.uk/dataTables/lang.txt"*/
	        },
	        "iDisplayStart":0,
            "iDisplayLength": 2000000
        	
        });
        $('#tabvaleurs_column_toggler input[type="checkbox"]').change(function(){
            /* Get the DataTables object again - this is not a recreation, just a get of the object */
            var iCol = parseInt($(this).attr("data-column"));
            var bVis = oTable.fnSettings().aoColumns[iCol].bVisible;
            oTable.fnSetColumnVis(iCol, (bVis ? false : true));
        });
        
        $('#tabvaleurs_wrapper .dataTables_filter input').addClass("form-control input-small input-inline").css("margin-right","15px");
	    
		
	});
</script>

<!-- END CaracteristiquesIndex -->